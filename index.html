<!DOCTYPE html>
<html>
<head>
  <title>simple crystal game</title>

  <style type="text/css">

    .crystal-image {
      width: 300px;
      height: 300px;
    }
  </style>

</head>
<body>

  <h1>Number to Guess: <span id="number-to-guess"></span></h1>
  <p id="wins-text"></p>

  <!-- Note that this div is now empty. We will fill it dynamically -->
  <div id="crystals">
  </div>

  <!-- JAVASCRIPT  -->
  <!-- ========================================= -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <script type="text/javascript">
  var winsText = document.getElementById("wins-text");
  var targetNumber = Math.floor(Math.random() *200) +50;
  var crystal1 = Math.floor(Math.random() * 12)+1;
  var crystal2 = Math.floor(Math.random() * 12)+1;
  var crystal3 = Math.floor(Math.random() * 12)+1;
  var crystal4 = Math.floor(Math.random() * 12)+1;
  var counter= 0;
  $("#number-to-guess").text(targetNumber);
  function reset(){
counter=0
crystal1 = Math.floor(Math.random() * 12)+1;
crystal2 = Math.floor(Math.random() * 12)+1;
crystal3 = Math.floor(Math.random() * 12)+1;
crystal4 = Math.floor(Math.random() * 12)+1;
targetNumber = Math.floor(Math.random() *200) +50;
$("#number-to-guess").text(targetNumber);
}
 
  var numberOptions = [crystal1, crystal2, crystal3, crystal4];

  for (var i = 0; i < numberOptions.length; i++) {

    var imageCrystal = $("<img>");

    imageCrystal.addClass("crystal-image");

    imageCrystal.attr("src", "http://cdn.playbuzz.com/cdn/35910209-2844-45c0-b099-f4d82878d54f/00261fda-4062-4096-81fd-8cf96b9034e8.jpg");

    
    imageCrystal.attr("data-crystalvalue", numberOptions[i]);

    $("#crystals").append(imageCrystal);
  }

  $(".crystal-image").on("click", function() {

  
    var crystalValue = ($(this).attr("data-crystalvalue"));
    crystalValue = parseInt(crystalValue);
    counter += crystalValue;

    winsText.textContent = "score: " + counter;
    if (counter === targetNumber) {
      alert("You win!");
      counter=0;
      reset()

}


    else if (counter >= targetNumber) {
      alert("You lose!!");
      counter=0;
    reset()
    }

  });
 
  </script>
</body>
</html>
